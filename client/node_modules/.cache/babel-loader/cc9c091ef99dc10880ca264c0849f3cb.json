{"ast":null,"code":"/**\n * Parse profile.\n *\n * Parses user profiles as fetched from Google's Google+ API.\n *\n * The amount of detail in the profile varies based on the scopes granted by the\n * user.  The following scope values add additional data:\n *\n *     `https://www.googleapis.com/auth/plus.login` - recommended login scope\n *     `profile` - basic profile information\n *     `email` - email address\n *\n * References:\n *   - https://developers.google.com/+/web/api/rest/latest/people/get\n *   - https://developers.google.com/+/web/api/rest/\n *   - https://developers.google.com/+/web/api/rest/oauth\n *\n * @param {object|string} json\n * @return {object}\n * @access public\n */\nexports.parse = function (json) {\n  if ('string' == typeof json) {\n    json = JSON.parse(json);\n  }\n  var profile = {},\n    i,\n    len;\n  profile.id = json.id;\n  profile.displayName = json.displayName;\n  if (json.name) {\n    profile.name = {\n      familyName: json.name.familyName,\n      givenName: json.name.givenName\n    };\n  }\n  if (json.emails) {\n    profile.emails = [];\n    for (i = 0, len = json.emails.length; i < len; ++i) {\n      profile.emails.push({\n        value: json.emails[i].value,\n        type: json.emails[i].type\n      });\n    }\n  }\n  if (json.image) {\n    profile.photos = [{\n      value: json.image.url\n    }];\n  }\n  profile.gender = json.gender;\n  return profile;\n};","map":null,"metadata":{},"sourceType":"script"}