{"ast":null,"code":"/**\n * Parse profile.\n *\n * Parses user profiles as fetched from Google's OpenID Connect-compatible user\n * info endpoint.\n *\n * The amount of detail in the profile varies based on the scopes granted by the\n * user.  The following scope values add additional data:\n *\n *     `profile` - basic profile information\n *     `email` - email address\n *\n * References:\n *   - https://developers.google.com/identity/protocols/OpenIDConnect\n *\n * @param {object|string} json\n * @return {object}\n * @access public\n */\nexports.parse = function (json) {\n  if ('string' == typeof json) {\n    json = JSON.parse(json);\n  }\n  var profile = {};\n  profile.id = json.sub;\n  profile.displayName = json.name;\n  if (json.family_name || json.given_name) {\n    profile.name = {\n      familyName: json.family_name,\n      givenName: json.given_name\n    };\n  }\n  if (json.email) {\n    profile.emails = [{\n      value: json.email,\n      verified: json.email_verified\n    }];\n  }\n  if (json.picture) {\n    profile.photos = [{\n      value: json.picture\n    }];\n  }\n  return profile;\n};","map":null,"metadata":{},"sourceType":"script"}